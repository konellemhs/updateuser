Имеется система настроек пользователя  
Задача: Реализовать систему подтверждения смены конкретной настройки пользователя по коду из смс / email / telegram с возможностью выбора пользователем другого метода

Какие вы выделили бы слои, абстракции, таблицы?

Реализуйте данную схему без интеграции конкретных сервисов / ORM / прочее на уровне интерфейсов / контроллеров

Какие вы выделили бы слои, абстракции, таблицы?

1. Таблицы: 
   1. Таблица с пользователями (сущность User). Имеет связь типа OneToMany на контакты (сущность UserContact) и настройки связь типа ManyToMany через промежуточную сущность UserSettings.
   2. Таблица с кодом подтверждения(сущность ConfirmationCode). Для избежания проектирования кучи сущностей разных кодов, таблица кода подтверждения не имеет связи. Ссылаются только на нее.
   3. Таблица настроек (сущность Setting). имеет id настройки и название. Необходима для унификации всех настроек, допустимых в системе.  
2. Слои:
   1. Слой инфрастуктуры приложения
      1. Слои транспорта в сервисы нотификации пользователя
      2. Слои, который будет ходить в базу
   2. Слой приложения, где содержится основная логика
   3. Слой контроллера, который передает управление запроса, и обрабатывает ответы
3. Абстракции:
   1. Абстракция над транспортом TransportInterface и фабрика для получения нужного транспорта на основании типа контакта;
   2. Абстракция над DB в виде интерфейсов репозитория, которые позволяют реализовать инверсию управления
   3. Фасад работы над пользователем. Позволят скрыть детали реализации некоторых вещей от сторонних глаз, предоставляя единый интерфейс для работы с пользователем
   4. Абстракция шаблонизации сообщений. Есть абстрактный класс TemplateData, предоставляющий интерфейс для шаблонизации сообщений